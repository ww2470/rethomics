---
title: "Loading DAM2 Data"
author: "Quentin Geissmann"
date: "18 August 2015"
output: html_document
---


Aims
----- 

In this tutorial, we will learn how to:

* Load data from [TriKinetics DAM2 monitors](http://www.trikinetics.com/)
* Visually control the quality of the data

Loading data from continuous DAM2 files
----------------------------------------
For each DAM2 monitor, the TriKinetics software generates a single, long, continuous file.
New data is simply added in the end of this unique file.
Therefore, in princinple, one could have the same file for several years of data for one monitor.
This implies that **this file will contain data from many experiments**.
Therefore, we will need a way to query this file in order to retrieve only the relevant information.


As usual, we start by loading rethomics.
```{r, eval=FALSE}
library(rethomics)
```

```{r, include=FALSE}
library(rethomics)
```

test

```{r}
RESULT_DIR <- paste0(TUTO_DATA_DIR, "/", "ethoscope_results")
print(RESULT_DIR)

```{r}
QUERY_FILE<- paste(TUTO_DATA_DIR,  "ethoscope_queries","query.csv",sep = "/")
q <- fread(QUERY_FILE)
q
```

```{r}
q <- buildEthoscopeQuery(RESULT_DIR, q)
colnames(q)
print(q)
```

```{r}
loadEthoscopeData(q, reference_hour=9.0, FUN=sleepAnnotation)
```


